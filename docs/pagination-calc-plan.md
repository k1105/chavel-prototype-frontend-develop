# ページネーションを実現するためのステップ

### 計測・実際のレンダリング兼用のコンポーネントを用意
- テキスト表示用のコンポーネントを用意し、高さやフォント、テキストスタイルなどのスタイルを指定する
- 横幅は固定か無限に伸びるか選択できるようにし、固定の場合、数値を与えられるようにする

### コンポーネントの内容が空の状態で実際にレンダリングして表示可能な大きさを計測する
- コンポーネントを、実際の表示可能エリアに配置して親コンポーネントに対して広げられるだけ広げて配置し、レンダリングされたサイズを一時保存しておく
- この同一のコンポーネントを非表示にレンダリングしてみて1ページごとに含まれるテキストを計算して求める

### 表示可能な大きさに基づき同じコンポーネントを仮想的に配置してページ内のテキストをまとめていく
- 仮想配置したコンポーネントは、横幅を可変として、縦幅は一時保存されたサイズに指定する
- blockを前から流し込んでいき、都度横幅を取得し一時保存したレンダリングできる横幅と比較する
- 超過した時点でテキストをどこまで流し込むかの計算にうつる
- テキストがピッタリ収まるところまで文字を減らしていきこの位置を記録し1ページのコンテンツを決定する
- 途切れた文字から次のページの計算を同様に行い、これを繰り返して、全ページに含まれるコンテンツを算出していく
- ただし、章（Capture）が変わるところでは必ずページが変わるようにする。

### 実際にレンダリングする
- 計算したページネーションを元に、実際の表示域に現在閲覧中ページのコンテンツを表示していく