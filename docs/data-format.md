# Data format

## 書籍のデータフォーマット
- フロントエンドでページネーションを実現するために、下記のフォーマットで保持したい。バックエンドでも共通の採番を行うことで、チャット時のキャラクターや人格の選定において疎通できるようにする。

### 本文情報
```json
{
  "metadata": {
    "id": 1,
    "title": "吾輩は猫である",
    "author": "夏目漱石",
  },
  "content": {
    "chapters": [
      {
        "id": 1,
        "title": "一",
        "blocks": [
          {
            "id": 1,
            "type": "paragraph",
            "text": "吾輩は猫である。名前はまだ無い。"
          },
          {
            "id": 2,
            "type": "paragraph",
            "text": "どこで生れたかとんと見当がつかぬ。何でも薄暗いじめじめした所でニャーニャー泣いていた事だけは記憶している。吾輩はここで始めて人間というものを見た。しかもあとで聞くとそれは書生という人間中で一番獰悪な種族であったそうだ。この書生というのは時々我々を捕えて煮て食うという話である。しかしその当時は何という考もなかったから別段恐しいとも思わなかった。ただ彼の掌に載せられてスーと持ち上げられた時何だかフワフワした感じがあったばかりである。掌の上で少し落ちついて書生の顔を見たのがいわゆる人間というものの見始みはじめであろう。この時妙なものだと思った感じが今でも残っている。第一毛をもって装飾されべきはずの顔がつるつるしてまるで薬缶やかんだ。その後ご猫にもだいぶ逢あったがこんな片輪かたわには一度も出会でくわした事がない。のみならず顔の真中があまりに突起している。そうしてその穴の中から時々ぷうぷうと煙けむりを吹く。どうも咽むせぽくて実に弱った。これが人間の飲む煙草たばこというものである事はようやくこの頃知った。"
          },
          {
            "id": 3,
            "type": "conversation",
            "text": "「どうも甘うまくかけないものだね。人のを見ると何でもないようだが自みずから筆をとって見ると今更いまさらのようにむずかしく感ずる」これは主人の述懐じゅっかいである。なるほど詐いつわりのない処だ。彼の友は金縁の眼鏡越めがねごしに主人の顔を見ながら、「そう初めから上手にはかけないさ、第一室内の想像ばかりで画えがかける訳のものではない。昔むかし以太利イタリーの大家アンドレア・デル・サルトが言った事がある。画をかくなら何でも自然その物を写せ。天に星辰せいしんあり。地に露華ろかあり。飛ぶに禽とりあり。走るに獣けものあり。池に金魚あり。枯木こぼくに寒鴉かんああり。自然はこれ一幅の大活画だいかつがなりと。どうだ君も画らしい画をかこうと思うならちと写生をしたら」"
          }
        ],
      },
      {
        "id": 2,
        "title": "二",
        "blocks": [
          {
            "id": 1,
            "type": "paragraph",
            "text": "吾輩は猫である。名前はまだ無い。"
          }
        ],
      }
    ]
  }
}
```

### キャラクター登場情報

```json
{
  "characters": [
    {
      "id": 1,
      "name": "キャラクターA",
      "chapter": 1,
      "appearance": {
        "chapter": 1,
        "block": 3,
        "char_index": 120
      }
    },
    {
      "id": 2,
      "name": "キャラクターB",
      "chapter": 2,
      "appearance": {
        "chapter": 2,
        "block": 1,
        "char_index": 15
      }
    },
    {
      "id": 3,
      "name": "キャラクターC",
      "chapter": 2,
      "appearance": {
        "chapter": 2,
        "block": 1,
        "char_index": 30
      }
    }
  ]
}
```